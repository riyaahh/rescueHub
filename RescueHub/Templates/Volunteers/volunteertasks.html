{% extends 'Volunteers/volunteerbase.html' %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/register.css' %}" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<!-- slider stylesheet -->
<link rel="stylesheet" type="text/css" href="{% static 'css/owl.carousel.min.css' %}" />
<!-- bootstrap core css -->
<link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />
<!-- font awesome style -->
<link rel="stylesheet" type="text/css" href="{% static 'css/font-awesome.min.css' %}" />
<!-- Custom styles for this template -->
<link href="{% static 'css/style.css' %}" rel="stylesheet" />
<!-- responsive style -->
<link href="{% static 'css/responsive.css' %}" rel="stylesheet" />
<link rel="stylesheet" href="{% static 'css/forms.css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'owlcarousel/owl.carousel.min.css' %}">
<link rel="stylesheet" href="{% static 'owlcarousel/owl.theme.default.min.css' %}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
  href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital@1&family=Fasthand&family=Playfair+Display:ital,wght@0,700;1,500&display=swap"
  rel="stylesheet">
{% endblock styles %}



{% block content %}
<div class="bg">
  <div class="table">
    <div class="table-responsive">

      <table class="table" ,"txt">
        <thead>
          {% for request in requests %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <th scope="col">{{ request.requester_name }}</th>
            <th scope="col">{{ request.requester_phone }}</th>
            <th scope="col">Delivery Address</th>
            <th scope="col">{{ request.org_name }}</th>
            <th scope="col">{{ request.phone }}</th>
            <th scope="col">Resource Type</th>
            <th scope="col">Quantity</th>
            <th scope="col">Status</th>
            <th scope="col">Action</th>
        </tr>
        </thead>
        <tbody>
          {% for i in data %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ i.camp_name }}</td>
            <td>{{ i.camp_phone }}</td>
            <td>{{ i.requester_name }}</td>
            <td>{{ i.requester_phone }}</td>
            <td>{{ i.resource_type }}</td>
            <td>{{ i.quantity }}</td>
            <td>{{ i.request_details }}</td>
            <td>{{ i.delivery_address }}</td>
            <td>{{ i.requested_by_date }}</td>
            <td>{{ i.urgency_level }}</td>
            <td>{{ i.status }}</td>


            <td>
              <div class="btn-group" role="group">
                {% comment %} <button type="button" class="btn btn-success">Accept</button> {% endcomment %}
                <a href="{% url 'denyRequest' i.id %}" class="btn btn-danger">Deny</a>
                <a href="{% url 'acceptRequest' i.id %}" class="btn btn-info">Accept</a>

              </div>
            </td>


            {% comment %}
            <td>
              <div class="btn-group" role="group">
                {% if i.status == 'Pending' %}
                <a href="{% url 'denyRequest' i.id %}" class="btn btn-danger">Deny</a>
                <a href="{% url 'acceptRequest' i.id %}" class="btn btn-info">Accept</a>
                {% else %}
                <span class="text-muted">{{ i.status }}</span> <!-- Display status if already processed -->
                {% endif %}
              </div>
            </td> {% endcomment %}

          </tr>
          {% endfor %}
        </tbody>
      </table>

      </tbody>

      </table>
    </div>
  </div>
</div>
  {% endblock content %}

  {% block extrascript %}
  <script src='https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js'></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

  {% endblock extrascript %}